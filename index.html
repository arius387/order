<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order | LaFabrica | Unmatched Excellence | Student Business Club</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-green-700 flex items-center justify-center h-screen">

    <!-- Modal -->
    <div id="modal" class="hidden fixed inset-0 bg-gray-800 bg-opacity-50 flex items-center justify-center">
        <div class="bg-white p-6 rounded-lg max-w-sm w-full">
            <div id="modalMessage" class="text-center text-lg font-bold"></div>
            <button onclick="closeModal()" class="mt-4 bg-green-500 text-white py-2 px-4 rounded-md">Close</button>
        </div>
    </div>

    <!-- Order Form -->
    <div class="bg-white p-8 rounded-lg shadow-lg w-96">
        <h1 class="text-2xl font-bold text-center mb-4">Order</h1>
        <form id="orderForm" class="space-y-4">
            <div>
                <label for="name" class="block font-semibold">Name</label>
                <input type="text" id="name" class="w-full p-2 border border-gray-300 rounded-md" placeholder="Name" required>
            </div>
            <div>
                <label for="tel" class="block font-semibold">Phone Number</label>
                <input type="text" id="tel" class="w-full p-2 border border-gray-300 rounded-md" placeholder="Phone Number" required>
            </div>
            <div>
                <label for="email" class="block font-semibold">Email (optional)</label>
                <input type="email" id="email" class="w-full p-2 border border-gray-300 rounded-md" placeholder="Email">
            </div>
            <div>
                <label class="block font-semibold">Product</label>
                <input type="text" value="Liquid Soap" class="w-full p-2 border border-gray-300 rounded-md" readonly>
            </div>
            <div>
                <label class="block font-semibold">Quantity</label>
                <div class="space-y-2">
                    <div>
                        <input type="radio" name="quantity" id="3Liters" value="3 Liters" class="mr-2">
                        <label for="3Liters">3 Liters</label>
                    </div>
                    <div>
                        <input type="radio" name="quantity" id="5Liters" value="5 Liters" class="mr-2">
                        <label for="5Liters">5 Liters</label>
                    </div>
                    <div>
                        <input type="radio" name="quantity" id="10Liters" value="10 Liters" class="mr-2">
                        <label for="10Liters">10 Liters</label>
                    </div>
                    <div>
                        <input type="radio" name="quantity" id="20Liters" value="20 Liters" class="mr-2">
                        <label for="20Liters">20 Liters</label>
                    </div>
                </div>
            </div>
            <button type="button" id="submitOrder" class="w-full bg-green-500 text-white py-2 rounded-md">Order</button>
        </form>
    </div>

    <script>
        document.getElementById('submitOrder').addEventListener('click', async () => {
            const name = document.getElementById('name').value;
            const tel = document.getElementById('tel').value;
            const email = document.getElementById('email').value;
            const quantity = document.querySelector('input[name="quantity"]:checked')?.value;

            if (!quantity) {
                alert('Please select a quantity.');
                return;
            }

            const orderData = { name, tel, email, order: "Liquid Soap", quantity };

            try {
                const response = await fetch('https://hook.us2.make.com/522rnipct7wrxdna82kcfcrcwohgribc', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(orderData),
                });

                const result = await response.json();

                if (result.status === 'success') {
                    showModal('Thank you! Your order was successful.');
                } else {
                    showModal('Error: Order failed. Please try again.');
                }
            } catch (error) {
                showModal('Error: Unable to connect to the server.');
                console.error('Detailed error:', error);
            }
        });

        function showModal(message) {
            document.getElementById('modalMessage').textContent = message;
            document.getElementById('modal').classList.remove('hidden');
        }

        function closeModal() {
            document.getElementById('modal').classList.add('hidden');
        }
    </script>
</body>
</html>

