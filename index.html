<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Student Business Club — Order Soap</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* small helper for smooth scrolling in browsers that need it */
    html { scroll-behavior: smooth; }
  </style>
</head>
<body class="bg-slate-50 text-slate-800 leading-relaxed">
  <!-- NAV -->
  <header class="bg-white shadow sticky top-0 z-30">
    <div class="max-w-4xl mx-auto px-4 py-4 flex items-center justify-between">
      <h1 class="text-xl font-semibold">Student Business Club</h1>
      <nav class="space-x-4">
        <a href="#home" class="hover:underline">Home</a>
        <a href="#about" class="hover:underline">About</a>
        <a href="#order" class="hover:underline">Order</a>
        <a href="#contact" class="hover:underline">Contact</a>
      </nav>
    </div>
  </header>

  <!-- HOME -->
  <section id="home" class="max-w-4xl mx-auto px-4 py-16">
    <div class="bg-gradient-to-r from-sky-600 to-indigo-600 text-white rounded-2xl p-10 shadow-lg">
      <h2 class="text-3xl font-bold mb-2">Liquid Soap — High quality, student-made</h2>
      <p class="mb-6 opacity-90">Affordable, locally produced liquid soap. Choose volume and place your order — we'll email you confirmation.</p>
      <div class="flex gap-3">
        <a href="#order" class="inline-block bg-white text-slate-900 px-5 py-3 rounded-lg font-medium shadow hover:shadow-md">Order Now</a>
        <a href="#about" class="inline-block border border-white/30 px-5 py-3 rounded-lg hover:bg-white/10">Learn More</a>
      </div>
    </div>
  </section>

  <!-- ABOUT -->
  <section id="about" class="max-w-4xl mx-auto px-4 py-12">
    <h3 class="text-2xl font-semibold mb-3">About the project</h3>
    <p class="mb-4">This is a student‑run project producing liquid soap in small batches. Orders go straight to our processing pipeline via a webhook (Make.com) which then sends an email confirmation to the team.</p>
    <ul class="list-disc ml-6 text-sm text-slate-700">
      <li>Made by students — supporting campus initiatives</li>
      <li>Available in 3L, 5L, 10L and 20L</li>
      <li>Payment and distribution arranged after order (we'll email details)</li>
    </ul>
  </section>

  <!-- ORDER -->
  <section id="order" class="max-w-4xl mx-auto px-4 py-12">
    <h3 class="text-2xl font-semibold mb-4">Place an order</h3>

    <div class="bg-white rounded-xl shadow p-6">
      <form id="orderForm" class="grid gap-4">
        <div>
          <label class="block text-sm font-medium mb-1">Full name</label>
          <input id="name" name="name" required class="w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-sky-400" placeholder="e.g. Jane Doe">
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium mb-1">Email</label>
            <input id="email" name="email" type="email" required class="w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-sky-400" placeholder="you@example.com">
          </div>
          <div>
            <label class="block text-sm font-medium mb-1">Telephone</label>
            <input id="tel" name="tel" type="tel" required class="w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-sky-400" placeholder="+250 7xx xxx xxx">
          </div>
        </div>

        <div class="grid md:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium mb-1">Product</label>
            <select id="product" name="product" class="w-full border rounded px-3 py-2">
              <option value="Liquid Soap">Liquid Soap</option>
            </select>
          </div>

          <div>
            <label class="block text-sm font-medium mb-1">Quantity (choose size)</label>
            <select id="quantity" name="quantity" required class="w-full border rounded px-3 py-2">
              <option value="3L">3 L</option>
              <option value="5L">5 L</option>
              <option value="10L">10 L</option>
              <option value="20L">20 L</option>
            </select>
          </div>
        </div>

        <div>
          <label class="block text-sm font-medium mb-1">Additional notes (optional)</label>
          <textarea id="notes" name="notes" rows="3" class="w-full border rounded px-3 py-2" placeholder="e.g. Delivery time, campus building, other details"></textarea>
        </div>

        <div class="flex items-center gap-3">
          <button id="submitBtn" type="submit" class="bg-sky-600 text-white px-5 py-2 rounded-md font-medium shadow hover:opacity-95">Send Order</button>
          <div id="status" aria-live="polite" class="text-sm text-slate-600"></div>
        </div>
      </form>

      <p class="mt-4 text-xs text-slate-500">Orders are submitted to the club administration via a webhook. Replace <code>WEBHOOK_URL</code> in the script with your Make.com incoming webhook URL.</p>
    </div>
  </section>

  <!-- CONTACT -->
  <section id="contact" class="max-w-4xl mx-auto px-4 py-12">
    <h3 class="text-2xl font-semibold mb-3">Contact</h3>
    <p class="mb-4">Questions? Reach the Student Business Club team:</p>
    <ul class="text-sm">
      <li>Email: <a href="mailto:club@example.com" class="text-sky-600 hover:underline">club@example.com</a></li>
      <li>Phone: +250 7xx xxx xxx</li>
    </ul>
  </section>

  <!-- FOOTER -->
  <footer class="max-w-4xl mx-auto px-4 py-8 text-sm text-slate-500">
    <div class="flex items-center justify-between">
      <div>© Student Business Club</div>
      <div><a href="#home" class="hover:underline">Back to top</a></div>
    </div>
  </footer>

  <!-- SCRIPT -->
  <script>
    (function(){
      // === CONFIGURE THIS ===
      // Replace this with your incoming Make.com webhook URL
      const WEBHOOK_URL = 'https://hook.us1.make.com/your-incoming-webhook-url';
      // ======================

      const form = document.getElementById('orderForm');
      const submitBtn = document.getElementById('submitBtn');
      const statusEl = document.getElementById('status');

      function setStatus(text, isError){
        statusEl.textContent = text;
        statusEl.classList.toggle('text-red-600', !!isError);
      }

      form.addEventListener('submit', async (e) => {
        e.preventDefault();

        // basic client-side validation
        const name = document.getElementById('name').value.trim();
        const email = document.getElementById('email').value.trim();
        const tel = document.getElementById('tel').value.trim();
        const product = document.getElementById('product').value;
        const quantity = document.getElementById('quantity').value;
        const notes = document.getElementById('notes').value.trim();

        if(!name || !email || !tel){
          setStatus('Please complete name, email and telephone fields.', true);
          return;
        }

        // prepare payload - Make.com can accept JSON; adapt keys to your scenario
        const payload = {
          name, email, tel, product, quantity, notes,
          submitted_at: new Date().toISOString()
        };

        try{
          submitBtn.disabled = true;
          submitBtn.textContent = 'Sending...';
          setStatus('Sending order...', false);

          const res = await fetch(WEBHOOK_URL, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json'
            },
            body: JSON.stringify(payload)
          });

          // Make.com returns a response (you can configure it to return useful info)
          if(!res.ok){
            const text = await res.text().catch(()=>res.statusText || 'Error');
            throw new Error('Webhook error: ' + text);
          }

          const body = await res.json().catch(()=>null);

          setStatus('Order sent — check your email for confirmation (if configured).', false);
          // clear form (optional)
          form.reset();

          // If Make.com returns a message, you could surface it
          if(body && body.message){
            setStatus(body.message, false);
          }

        }catch(err){
          console.error(err);
          setStatus('Failed to send order. See console for details.', true);
        }finally{
          submitBtn.disabled = false;
          submitBtn.textContent = 'Send Order';
        }
      });

      // small UX: autofill telephone international prefix for Rwanda as an example
      (function prefillTel(){
        const tel = document.getElementById('tel');
        if(tel && !tel.value) tel.value = '+250 ';
      })();

    })();
  </script>
</body>
</html>
